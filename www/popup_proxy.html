<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Source Engine Cached Request Bypass (CS:GO display)</title>
</head>

<body>
	<script>
	/* Pass each page as a hash to this HTML page, Source Engine handles the rest. */
	window.onload = window.onhashchange = () => {
		let hash = window.location.hash.slice(1);
		
		if (hash.startsWith('http')) {
			// backcompat
			let url = decodeURIComponent(hash);
			window.open(url, '_blank', `width=${screen.width}, height=${screen.height}`)
		} else {
			// using new method
			let params = new URLSearchParams(hash);
			
			let w = Number(params.get('width')), h = Number(params.get('height'));
			let url = decodeURIComponent(params.get('url'));
			
			window.open(url, "_blank", `width=${w || screen.width},height=${h || screen.height}`);
		}
	}
	</script>
</body>
</html>
